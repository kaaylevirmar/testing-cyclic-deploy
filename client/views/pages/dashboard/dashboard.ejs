<%- layout('/layouts/boilerplate') %>



<h3 class="col-3 page-header mt-4 ms-3">Dashboard</h3>

<div class="row">
<div class="col">
    <div class="card mt-4" style="height: 25em;">
        <h4 class="mt-3 ms-3 card-head">Office Overview</h4>
        <div style="width: 100%; height: 80%; margin: 0 auto;">
            <canvas id="myChart"></canvas>
        </div>

    </div>
    <div class="card mt-4 d-flex " style="height: 10em">
        <h4 class="mt-3 ms-3 card-head">Position Overview</h4>
        

        <div class="ps-3 pt-3" style="font-size: small; display: none;">
            <p id="employeeCount"><%= employeeCount %></p>
            <p id="jobCount"><%= jobOrderCount %></p>
            <p id="casualCount"><%= casualCount %></p>
            <p id="regularCount"><%= regularCount %></p>

            <p id="officeMayor"><%= officeMayor %></p>
            <p id="officeCivil"><%= officeCivil %></p>
            <p id="officeSangguniang"><%= officeSangguniang %></p>
            <p id="officeSB"><%= officeSB %></p>
            <p id="officeHuman"><%= officeHuman %></p>
            <p id="officeMPDC"><%= officeMPDC %></p>
            <p id="officeLCR"><%= officeLCR %></p>
            <p id="officeGen"><%= officeGen %></p>
            <p id="officeBudget"><%= officeBudget %></p>
            <p id="officeAccountant"><%= officeAccountant %></p>
            <p id="officeTreasurer"><%= officeTreasurer %></p>
            <p id="officeAssessor"><%= officeAssessor %></p>
            <p id="officeAuditing"><%= officeAuditing %></p>
            <p id="officeLegal"><%= officeLegal %></p>
            <p id="officeMPOC"><%= officeMPOC %></p>
            <p id="officeHigh"><%= officeHigh %></p>
            <p id="officeManpower"><%= officeManpower %></p>
            <p id="officeHealth"><%= officeHealth %></p>
            <p id="officeDSWD"><%= officeDSWD %></p>
            <p id="officeAgriculture"><%= officeAgriculture %></p>
            <p id="officeEngineering"><%= officeEngineering %></p>
            <p id="officeOperation"><%= officeOperation %></p>
            <p id="officeLGSEF"><%= officeLGSEF %></p>
            <p id="officeSpecial"><%= officeSpecial %></p>
            <p id="officeBugetary"><%= officeBugetary %></p>


        </div>
       
    </div>
</div>
<div class="col">
    <div class="row">
        <div class="col-5 card ms-3 mt-4" style="height: 10em;">
            <h4 class="mt-3 ms-1 card-head">Total Applicants</h4>
            <div class="mt-3 ps-4">
                <h2><%= applicantCount %></h2>
            </div>
            <a href="/applications" class="d-flex justify-content-end gray-text text-decoration-none align-items-center" style="font-size: 1.1em; font-weight: 600; ">View All<i class="bi bi-arrow-right-short ms-2" style="font-size: 1.5em;"></i></a>
        </div>
        
        <div class="col-5 card ms-4 mt-4" style="height: 10em">
            <h4 class="mt-3 ms-1 card-head">Total Employees</h4>
            <div class="mt-3 ps-4">
                <h2><%= employeeCount %></h2>
            </div>
            <a href="/employees" class="d-flex justify-content-end gray-text text-decoration-none align-items-center" style="font-size: 1.1em; font-weight: 600; ">View All<i class="bi bi-arrow-right-short ms-2" style="font-size: 1.5em;"></i></a>
        </div>
    </div>
    
    <div class="col-11 card ms-0 mt-4 " style="height: 25em;">
        <h4 class="mt-3 ms-3 card-head">Recruitment Progress</h4>
        <div>
            <table class="col-12 justify-content-between align-items-center text-center">
                <thead>
                    <tr class="">
                        <th class="col gray-text">Full name</th>
                        <th class="col gray-text">Department</th>
                        <th class="col gray-text">Status</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
</div>
</div>
  <script>
    // Get the values from the paragraphs

    var employeeCount = parseInt(document.getElementById('employeeCount').textContent);
    var jobCount = parseInt(document.getElementById('jobCount').textContent);
    var casualCount = parseInt(document.getElementById('casualCount').textContent);
    var regularCount = parseInt(document.getElementById('regularCount').textContent);
    
    
    var officeMayor = parseInt(document.getElementById('officeMayor').textContent);
    var officeCivil = parseInt(document.getElementById('officeCivil').textContent);
    var officeSangguniang = parseInt(document.getElementById('officeSangguniang').textContent);
    var officeSB = parseInt(document.getElementById('officeSB').textContent);
    var officeHuman = parseInt(document.getElementById('officeHuman').textContent);
    var officeMPDC = parseInt(document.getElementById('officeMPDC').textContent);
    var officeLCR = parseInt(document.getElementById('officeLCR').textContent);
    var officeBudget = parseInt(document.getElementById('officeBudget').textContent);
    var officeAccountant = parseInt(document.getElementById('officeAccountant').textContent);
    var officeTreasurer = parseInt(document.getElementById('officeTreasurer').textContent);
    var officeAssessor = parseInt(document.getElementById('officeAssessor').textContent);
    var officeAuditing = parseInt(document.getElementById('officeAuditing').textContent);
    var officeLegal = parseInt(document.getElementById('officeLegal').textContent);
    var officeMPOC = parseInt(document.getElementById('officeMPOC').textContent);
    var officeHigh = parseInt(document.getElementById('officeHigh').textContent);
    var officeManpower = parseInt(document.getElementById('officeManpower').textContent);
    var officeHealth = parseInt(document.getElementById('officeHealth').textContent);
    var officeDSWD = parseInt(document.getElementById('officeDSWD').textContent);
    var officeAgriculture = parseInt(document.getElementById('officeAgriculture').textContent);
    var officeEngineering = parseInt(document.getElementById('officeEngineering').textContent);
    var officeOperation = parseInt(document.getElementById('officeOperation').textContent);
    var officeLGSEF = parseInt(document.getElementById('officeLGSEF').textContent);
    var officeSpecial = parseInt(document.getElementById('officeSpecial').textContent);
    var officeBugetary = parseInt(document.getElementById('officeBugetary').textContent);


    // Create the data object
    var data = {
      labels: ['officeMayor', 'Job Orders', 'Casuals', 'Regulars'],
      datasets: [{
        label: 'Sample Data',
        data: [  officeMayor, officeCivil, officeSangguniang, officeSB, officeHuman, officeMPDC, 
            officeLCR, officeGen, officeBudget, officeAccountant, officeTreasurer, officeAssessor, 
            officeAuditing, officeLegal, officeMPOC, officeHigh, officeManpower, 
            officeHealth, officeDSWD, officeAgriculture, officeEngineering, officeOperation, 
            officeLGSEF, officeSpecial, officeBugetary],
        // data: ['12', '35', '512', '32'],
        backgroundColor: [
        'rgba(133, 196, 170, 0.5)',
          'rgba(196, 133, 133, 0.5)',
          'rgba(168, 133, 196, 0.5)',
          'rgba(196, 175, 133, 0.5)',
          'rgba(196, 175, 133,0.5)',
            'rgba(200, 77, 71,0.5)',
            'rgba(33, 89, 71,0.5)',
            'rgba(33, 210, 71,0.5)',
            'rgba(33, 152, 174,0.5)',
            'rgba(145, 76, 174,0.5)',
            'rgba(255, 208, 145,0.5)',
            'rgba(58, 0, 145,0.5)',
            'rgba(56, 109, 0,0.5)',
            'rgba(56, 249, 0,0.5)',
            'rgba(0, 0, 255,0.5)',
            'rgba(0, 255, 0,0.5)',
            'rgba(255, 0, 0,0.5)',
            'rgba(106, 90, 205,0.5)',
            'rgba(60, 179, 113,0.5)',
            'rgba(255, 116, 51,0.5)',
            'rgba(81, 116, 51,0.5)',
            'rgba(224, 116, 51,0.5)',
            'rgba(0, 0, 0,0.5)',
            'rgba(193, 217, 109,0.5)',
            'rgba(212, 145, 109,0.5)',
            'rgba(154, 145, 109,0.5)',
            'rgba(154, 204, 109,0.5)',
            'rgba(74, 143, 109,0.5)',
            'rgba(148, 255, 177,0.5)'
        ],
        borderColor: [
        'rgba(133, 196, 170, 0.5)',
          'rgba(196, 133, 133, 0.5)',
          'rgba(168, 133, 196, 0.5)',
          'rgba(196, 175, 133, 0.5)',
          'rgba(196, 175, 133,0.5)',
            'rgba(200, 77, 71,0.5)',
            'rgba(33, 89, 71,0.5)',
            'rgba(33, 210, 71,0.5)',
            'rgba(33, 152, 174,0.5)',
            'rgba(145, 76, 174,0.5)',
            'rgba(255, 208, 145,0.5)',
            'rgba(58, 0, 145,0.5)',
            'rgba(56, 109, 0,0.5)',
            'rgba(56, 249, 0,0.5)',
            'rgba(0, 0, 255,0.5)',
            'rgba(0, 255, 0,0.5)',
            'rgba(255, 0, 0,0.5)',
            'rgba(106, 90, 205,0.5)',
            'rgba(60, 179, 113,0.5)',
            'rgba(255, 116, 51,0.5)',
            'rgba(81, 116, 51,0.5)',
            'rgba(224, 116, 51,0.5)',
            'rgba(0, 0, 0,0.5)',
            'rgba(193, 217, 109,0.5)',
            'rgba(212, 145, 109,0.5)',
            'rgba(154, 145, 109,0.5)',
            'rgba(154, 204, 109,0.5)',
            'rgba(74, 143, 109,0.5)',
            'rgba(148, 255, 177,0.5)'
        ],
        borderWidth: 1
      }]
    };
  
    // Get the canvas element
    var ctx = document.getElementById('myChart').getContext('2d');
  
    // Create the chart
    var myChart = new Chart(ctx, {
      type: 'pie',
      data: data,
      options: {
        plugins: {
          legend: {
            display: false
          }
        }
      }
    });
  </script>